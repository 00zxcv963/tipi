<!DOCTYPE html>
<html>
<head>
	<title>TIPI: 深入理解PHP内核</title>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<link href="chm.css" media="screen" rel="stylesheet" type="text/css" />
<link href="highlight.css" media="screen" rel="stylesheet" type="text/css" />
</head>
<body id="portable" class="pdf">
			<div class='page page-break'>
			<h1>第三章 变量及数据类型<a name='第三章 变量及数据类型'></a></h1>

<p><strong>世界上唯一不变的就是变化。</strong></p>

<p>现代编程语言中的基本元素主要有：变量，流程控制接口，函数等等。我能能否不使用变量来编写程序呢？
这显然是可以的，例如：</p>

<pre class="php"><span class="kw2">&lt;?php</span>
<a href="http://www.php.net/echo"><span class="kw3">echo</span></a> <span class="st0">&quot;Hello TIPI Readers&quot;</span><span class="sy0">;</span></pre>

<p>这个程序很简单，输出一个字符串内容。</p>

<p>就和我们仅仅使用二进制也能编程一样，不使用变量也能完成大部分的工作，不使用变量我们的程序将丧失极大的灵活性，
变量可以让我们将值存储起来，以便在程序的其他地方使用，或者通过计算保存新的值。
变量具有三个基本特性：</p>

<ol>
<li><p><strong>名称</strong>
变量的标示符。就像小狗一样，主人可能会给这些小狗起个喜欢的名称。
变量命名上，PHP继承了Perl的语法风格，变量以美元符号开始，后面跟变量名。
一个有效的变量名由字母或者下划线开头，后面跟上任意数量的字母，数字，或者下划线。
PHP同时还支持复合变量，也就是类似$$a的变量，它会进行两次的解释。这给PHP带来了非常灵活的动态特性。</p></li>
<li><p><strong>类型</strong>
变量的类型，就像小狗的品种，不同的小狗血统可能会不一样，有的聪明，
有的会购物等等。
在很多静态语言中，变量在定义时就指定了，在程序运行过程中都不允许进行变更，
那如果你有一只能随便指定品种的小狗会不会很拉风呢;-)
PHP就像可这样，PHP收益弱类型语言，可以随便赋予它任何类型的值。</p></li>
<li><p><strong>值内容</strong>。
这是标示所代表的具体内容。这就像是实实在在的小狗的这个实物。
你可以给任何一条小狗起名为：小七，在编程语言中也是如此，你可以给变量赋予它
所能表示范围的值。不过在同一时间，变量只能有一个值。</p></li>
</ol>

<blockquote class='note'>
<p>PHP中组成变量名的字母可以是英文字母 a-z，A-Z，还可以是 ASCII 字符从 127 到 255（0x7f-0xff）。
  变量名是区分大小写的。</p>
</blockquote>

<p>除了变量本身，在PHP中我们经常会接触到与变量相关的一些概念，比如：常量，全局变量，静态变量以及类型转换等。
本章我们将介绍这些与变量相关的实现。其中包括PHP本身的变量低层存储结构以及弱类型系统的实现，
以及这些类型之间的相互转换等。</p>

<p>先看一段PHP代码：</p>

<pre class="php"><span class="kw2">&lt;?php</span>
<span class="re0">$foo</span> <span class="sy0">=</span> <span class="nu0">10</span><span class="sy0">;</span>
<span class="re0">$bar</span> <span class="sy0">=</span> <span class="nu0">20</span><span class="sy0">;</span>
&nbsp;
<span class="kw2">function</span> change<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <a href="http://www.php.net/global"><span class="kw3">global</span></a> <span class="re0">$foo</span><span class="sy0">;</span>
    <span class="re0">$bar</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
    <span class="re0">$foo</span><span class="sy0">++;</span>
<span class="br0">&#125;</span>
&nbsp;
change<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<a href="http://www.php.net/echo"><span class="kw3">echo</span></a> <span class="re0">$foo</span><span class="sy0">,</span> <span class="st_h">' '</span><span class="sy0">,</span> <span class="re0">$bar</span><span class="sy0">;</span></pre>

<p>运行代码会输出<strong>11 20</strong>。可是为什么会有这样的输出呢？变量在PHP的内部是如何实现的呢？
变量的作用域又是怎么实现的呢？
这是本章将对围绕<strong>变量</strong>这个主题展开讨论，下面我们从最基本的变量实现开始。</p>

<blockquote class='note'>
<p>不是所有编程语言中的变量的值都可以改变的。想想我们学过的数学中的变量。
  他们的值也是不可改变的。例如： x + y = 10; 变量x和y的值是不能发生变化的。
  在某个具体场景，也就是某个方程式中只有表示特定的值，变量的值不能改变的好处是：
  这样就能尽可能少的产生<a href="http://en.wikipedia.org/wiki/Side_effect_(computer_science)">副作用</a>，
  在<a href="http://www.erlang.org/">Erlang语言</a>中就是如此，它是一门函数式编程语言，非常值得学习。</p>
</blockquote>
		</div>
	</body>
</html>
